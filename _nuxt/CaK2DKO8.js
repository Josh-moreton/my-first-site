import{k as J,b as $,Z as K,ad as Q,o as V,m as B,ae as Z}from"./Dy38UYFi.js";var X=Y;function Y(t,o){var d={};typeof o=="string"&&(o=[].slice.call(arguments,1));for(var c in t)(!t.hasOwnProperty||t.hasOwnProperty(c))&&o.indexOf(c)===-1&&(d[c]=t[c]);return d}function j(t){const o=[];return o[0]=requestAnimationFrame(()=>{o[1]=requestAnimationFrame(()=>{t()})}),o}function q(t){for(const o of t)cancelAnimationFrame(o)}function M(t){return typeof t=="string"&&(t=Number(t)),!Number.isNaN(t)&&Number.isFinite(t)}function U(t){return typeof t=="string"&&t.search("%")===t.length-1&&M(t.slice(0,Math.max(0,t.length-1)))}const D={animating:"vah-animating",animatingUp:"vah-animating--up",animatingDown:"vah-animating--down",animatingToHeightZero:"vah-animating--to-height-zero",animatingToHeightAuto:"vah-animating--to-height-auto",animatingToHeightSpecific:"vah-animating--to-height-specific",static:"vah-static",staticHeightZero:"vah-static--height-zero",staticHeightAuto:"vah-static--height-auto",staticHeightSpecific:"vah-static--height-specific"},tt=["animateOpacity","animationStateClasses","applyInlineTransitions","contentClass","class","delay","duration","easing","height"],nt=J({props:{ariaHidden:{type:Boolean},animateOpacity:{type:Boolean,default:!1},animationStateClasses:{type:Object,default:D},applyInlineTransitions:{type:Boolean,default:!0},contentClass:{type:String,default:void 0},delay:{type:Number,default:0},duration:{type:Number,default:250},easing:{type:String,default:"ease"},height:{type:[String,Number],validator(t){return!!(typeof t=="number"&&t>=0||U(t)||t==="auto")},required:!0},id:{type:String,default:void 0}},emits:{animationEnd(t){return t},animationStart(t){return t}},setup(t,{slots:o,emit:d,attrs:c}){const h=$();let A=[],g="auto",C="visible";M(t.height)?(g=Math.max(0,Number(t.height)),C="hidden"):U(t.height)&&(g=t.height==="0%"?0:t.height,C="hidden");function _(i){i===0&&(h.value.style.display="")}function b(i){i===0&&(h.value.style.display="none")}const l={...D,...t.animationStateClasses};function P(i){return{[l.static]:!0,[l.staticHeightZero]:i===0,[l.staticHeightSpecific]:typeof i=="number"&&i>0,[l.staticHeightAuto]:i==="auto"}}const k=P(g),z=typeof window<"u";let F=!1;z&&window.matchMedia!==void 0&&(F=window.matchMedia("(prefers-reduced-motion").matches);function R(){if(F)return{delay:0,duration:0};const{delay:i,duration:s}=t;return{delay:i,duration:s}}function W(){const i=$({animationStateClasses:k,height:g,overflow:C,shouldUseTransitions:!1}),s=$(i.value);function n(r){s.value=i.value,i.value=r}return{prevState:Z(s),updateState:n,state:Z(i)}}const{prevState:x,updateState:T,state:v}=W();let f,N;K(()=>{var s;const{height:i}=v.value;((s=h.value)==null?void 0:s.style)!==void 0&&i!==null&&b(i)});let O=g;return Q(()=>{const{delay:i,duration:s,height:n}=t;if(h.value===void 0||n===O)return;const r=O;O=n,x.value.height!==void 0&&_(x.value.height),h.value.style.overflow="hidden";const H=h.value.offsetHeight;h.value.style.overflow="";const y=s+i;let a;const e={overflow:"hidden"},p=r==="auto";M(n)?(a=Math.max(0,Number(n)),e.height=a):U(n)?(a=n==="0%"?0:n,e.height=a):(a=H,e.height="auto",e.overflow=null),p&&(e.height=a,a=H);const I={[l.animating]:!0,[l.animatingUp]:r!==void 0&&(r==="auto"||n<r),[l.animatingDown]:r!==void 0&&(n==="auto"||n>r),[l.animatingToHeightZero]:e.height===0,[l.animatingToHeightAuto]:e.height==="auto",[l.animatingToHeightSpecific]:e.height>0},w=P(e.height);T({animationStateClasses:I,height:a,overflow:"hidden",shouldUseTransitions:!p}),f!==null&&clearTimeout(f),clearTimeout(N),p?(e.shouldUseTransitions=!0,q(A),A=j(()=>{T({...v.value,...e}),d("animationStart",{newHeight:e.height})}),N=setTimeout(()=>{T({...v.value,animationStateClasses:w,shouldUseTransitions:!1}),e.height!==null&&e.height!==void 0&&b(e.height),d("animationEnd",{newHeight:e.height})},y)):(d("animationStart",{newHeight:a}),f=setTimeout(()=>{e.animationStateClasses=w,e.shouldUseTransitions=!1,T({...v.value,...e}),n!=="auto"&&b(a),d("animationEnd",{newHeight:a})},y))}),V(()=>{q(A),f!==null&&clearTimeout(f),clearTimeout(N),f=null}),()=>{var E;const{animateOpacity:i,applyInlineTransitions:s,contentClass:n,easing:r,id:H}=t,{duration:y,delay:a}=R(),{height:e,overflow:p,animationStateClasses:I,shouldUseTransitions:w}=v.value,u=c.style,L=typeof e=="number"?`${e}px`:e??void 0,m={...u,height:L,overflow:p??(u==null?void 0:u.overflow)};w&&s&&(m.transition=`height ${y}ms ${r} ${a}ms`,(u==null?void 0:u.transition)!==null&&(u==null?void 0:u.transition)!==void 0&&(m.transition=`${u.transition}, ${m.transition}`),m.WebkitTransition=m.transition);const S={};i&&(S.transition=`opacity ${y}ms ${r} ${a}ms`,S.WebkitTransition=S.transition,e===0&&(S.opacity=0));const G=typeof t.ariaHidden<"u"?t.ariaHidden:e===0;return B("div",{...X(t,tt),"aria-hidden":G,class:[I,c.class],id:H,style:m},[B("div",{class:n,style:S,ref:h},(E=o.default)==null?void 0:E.call(o))])}}});export{nt as A};
